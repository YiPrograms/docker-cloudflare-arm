(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{201:function(t,a,s){"use strict";s.r(a);var e=s(0),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Configuration")]),t._v(" "),s("h2",{attrs:{id:"file"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#file","aria-hidden":"true"}},[t._v("#")]),t._v(" File")]),t._v(" "),s("p",[t._v("The configuration should be place at "),s("code",[t._v("/app/config.yaml")]),t._v(". It can be changed by defining "),s("code",[t._v("CLOUDFLARE_CONFIG")]),t._v(" in environment variables.")]),t._v(" "),s("p",[t._v("This is the minimum configuration needed.")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopedToken")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" QPExdfoNLwndJPDbt4nK1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("yF1z_srC8D0m6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Gv_h\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domains")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" foo.example.com\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("proxied")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JBFRZWzhTKtRFWgu3X7f3YLX\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br")])]),s("h3",{attrs:{id:"format"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#format","aria-hidden":"true"}},[t._v("#")]),t._v(" Format")]),t._v(" "),s("p",[t._v("It supports YAML with "),s("code",[t._v(".yaml")]),t._v(", "),s("code",[t._v(".yml")]),t._v(" and JSON with "),s("code",[t._v(".json")]),t._v(".")]),t._v(" "),s("h3",{attrs:{id:"validation"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#validation","aria-hidden":"true"}},[t._v("#")]),t._v(" Validation")]),t._v(" "),s("p",[t._v("It can be validation through "),s("a",{attrs:{href:"../config.schema.json"}},[t._v("JSON schema")]),t._v(". There are many online validators, text editor (including VS Code) and IDE supports it.")]),t._v(" "),s("h3",{attrs:{id:"details"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#details","aria-hidden":"true"}},[t._v("#")]),t._v(" Details")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("api")]),t._v(": Default to "),s("code",[t._v("https://api.cloudflare.com/client/v4/")]),t._v(". This is the base API url. It should not be changed.")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("auth")]),t._v(": It defines authentication with API. Use one of the following:")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("scopedToken")]),t._v(": APK token.")]),t._v(" "),s("li",[s("code",[t._v("email")]),t._v(": Cloudflare Email; "),s("code",[t._v("globalToken")]),t._v(": Global API key.")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("domains")]),t._v(": List of domains to be updated.")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("name")]),t._v(": Domain name to be updated.\n"),s("code",[t._v("type")]),t._v(": DNS record type. It should be "),s("code",[t._v("A")]),t._v(" or "),s("code",[t._v("AAAA")]),t._v(".\n"),s("code",[t._v("proxied")]),t._v(": Enable Cloudflare proxied or not.\n"),s("code",[t._v("create")]),t._v(": "),s("code",[t._v("true")]),t._v(" to create record if not exists.\n"),s("code",[t._v("zoneId")]),t._v(": "),s("router-link",{attrs:{to:"/guide/cloudflare.html#zone-id"}},[t._v("Zone ID")]),t._v(" of the record.\n"),s("code",[t._v("zoneName")]),t._v(": It is not needed if "),s("code",[t._v("zoneId")]),t._v(" is set. Root domain of the domain name. It requires "),s("code",[t._v("#zone:read")]),t._v(" for API token.")],1)])]),t._v(" "),s("li",[s("p",[s("code",[t._v("ipv4")]),t._v(" & "),s("code",[t._v("ipv6")]),t._v(": List of IP echo services to be used. It support JSON and plain text response.")])])]),t._v(" "),s("p",[s("strong",[t._v("JSON response")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" json\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//ipv4.example.com\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" a\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" b\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("div",{staticClass:"language-json line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"a"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"b"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"192.168.1.1"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("ul",[s("li",[s("code",[t._v("fields")]),t._v(": It is the location of IP address in the response.")])]),t._v(" "),s("p",[s("strong",[t._v("Plain text response")])]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" text\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//ipv4.example.com\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("h4",{attrs:{id:"full-configuration"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#full-configuration","aria-hidden":"true"}},[t._v("#")]),t._v(" Full configuration")]),t._v(" "),s("div",{staticClass:"language-yaml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-yaml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("api")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//api.cloudflare.com/client/v4/\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("auth")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("scopedToken")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" QPExdfoNLwndJPDbt4nK1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("yF1z_srC8D0m6"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v("Gv_h\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("domains")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" foo.example.com\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" A\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("proxied")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean important"}},[t._v("true")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("zoneId")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" JBFRZWzhTKtRFWgu3X7f3YLX\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ipv4")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//v4.ident.me/.json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" address\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//api.ipify.org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("format=json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ip\n"),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("ipv6")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//v6.ident.me/.json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" address\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("type")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("url")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" https"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//api6.ipify.org"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("?")]),t._v("format=json\n    "),s("span",{pre:!0,attrs:{class:"token key atrule"}},[t._v("fields")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("\n      "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),t._v(" ip\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br"),s("span",{staticClass:"line-number"},[t._v("18")]),s("br"),s("span",{staticClass:"line-number"},[t._v("19")]),s("br"),s("span",{staticClass:"line-number"},[t._v("20")]),s("br"),s("span",{staticClass:"line-number"},[t._v("21")]),s("br"),s("span",{staticClass:"line-number"},[t._v("22")]),s("br"),s("span",{staticClass:"line-number"},[t._v("23")]),s("br"),s("span",{staticClass:"line-number"},[t._v("24")]),s("br"),s("span",{staticClass:"line-number"},[t._v("25")]),s("br"),s("span",{staticClass:"line-number"},[t._v("26")]),s("br"),s("span",{staticClass:"line-number"},[t._v("27")]),s("br")])]),s("h2",{attrs:{id:"environment-variables"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#environment-variables","aria-hidden":"true"}},[t._v("#")]),t._v(" Environment Variables")]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("Configuration through environment variables is legacy support. For all the new features, you need to use configuration file.")])]),t._v(" "),s("div",{staticClass:"tip custom-block"},[s("p",[t._v("If configuration file is found, environment variables are ignored.")])]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",[t._v("Parameters")]),t._v(" "),s("th",[t._v("Default")]),t._v(" "),s("th",[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",[t._v("*ZONE")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Domain, e.g. "),s("code",[t._v("example.com")]),t._v(".")])]),t._v(" "),s("tr",[s("td",[t._v("*HOST")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("DNS record to be updated, e.g. "),s("code",[t._v("example.com")]),t._v(", "),s("code",[t._v("subdomain.example.com")]),t._v(".")])]),t._v(" "),s("tr",[s("td",[t._v("*EMAIL")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Cloudflare Email")])]),t._v(" "),s("tr",[s("td",[t._v("*API")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Cloudflare API key")])]),t._v(" "),s("tr",[s("td",[t._v("PROXY")]),t._v(" "),s("td",[t._v("true")]),t._v(" "),s("td",[t._v("Whether the record is receiving the performance and security benefits of Cloudflare. "),s("code",[t._v("true")]),t._v(" to enable; "),s("code",[t._v("false")]),t._v(" to disable.")])]),t._v(" "),s("tr",[s("td",[t._v("FORCE_CREATE")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("When set, a record will be created if one does not exist already.")])]),t._v(" "),s("tr",[s("td",[t._v("IPV6")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("When set, update IPv6 instead of IPv4.")])]),t._v(" "),s("tr",[s("td",[t._v("PUID")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("User ID used by the script.")])]),t._v(" "),s("tr",[s("td",[t._v("PGID")]),t._v(" "),s("td"),t._v(" "),s("td",[t._v("Group ID used by the script.")])])])]),t._v(" "),s("p",[t._v("* These parameters are required.")])])}),[],!1,null,null,null);a.default=n.exports}}]);